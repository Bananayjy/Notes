## 04、JVM的整体结构

### 4.1 HotSpot VM

HotSpot VM是Java平台上的一种虚拟机，是oracle jdk 和 opean jdk共用的虚拟机，由Oracle开发和维护。它是Java虚拟机（JVM）规范的一种实现，用于执行Java程序。HotSpot VM是目前广泛使用的Java虚拟机之一，它提供了高性能的垃圾回收、即时编译（JIT）等特性，使得Java程序能够在各种环境下运行并获得良好的性能表现。

### 4.2 特点

- 它采用解释器与即时编译器并存的架构。
- HotSpot VM是目前市面上高性能虚拟机的代表作之一。
- 在今天，Java程序的运行性能早已脱胎换骨，已经达到了可以和C/C++程序一较高下的地步。

### 4.3 HotSpot VM内存结构图说明

HotSpot VM内存结构图如下所示

![image-20240601210744147](04%E3%80%81JVM%E7%9A%84%E6%95%B4%E4%BD%93%E7%BB%93%E6%9E%84.assets/image-20240601210744147.png)

说明：

从上往下依，java虚拟机是用来解释运行字节码文件，因此入口/原材料就是Class files（字节码文件）。通过类装载器子系统（类装载器）将字节码文件加载到内存中，生成一个大的class对象实例（其中涉及加载、链接、初始化），在运行时数据区将大的class对象实例放到对应的内容，其中方法区、堆是所有线程共享的，而Java栈、本地方法栈和程序计数器是每个线程独有一份的。执行引擎分为解析器（将加载到内存中的内容进行解释运行）、及时编译器（对热点代码提前进行编译，注意java到字节码是编译期的前端，这里属于编译期的后端，用于将高级语言翻译成机器语言，即字节码到机器语言）和垃圾回收器。