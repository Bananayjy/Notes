# 2024-04-15问题整理

## 一、测试环境配置文件 只要在测试环境的nacos发布之后才会生效

可能有缓存机制？

## 二、Not Found TableInfoCache





```
String packageSearchPath = ResourcePatternResolver.CLASSPATH_ALL_URL_PREFIX
                    + org.springframework.util.ClassUtils
                    .convertClassNameToResourcePath(SystemPropertyUtils
                            .resolvePlaceholders(basePackage))
                    + "/**/*.class";
            Resource[] resources = thi
```

1、在 Spring 应用程序中，可能会存在一些配置属性，这些属性的值需要动态地从系统属性、环境变量或其他配置源中获取。为了方便处理这些动态配置，Spring 提供了 `SystemPropertyUtils.resolvePlaceholders(String)` 方法。

这个方法的作用是解析传入的字符串中的占位符，然后替换为相应的值。例如，如果传入的字符串是 `${key}`，那么这个方法会尝试从系统属性、环境变量或其他配置源中查找名为 `key` 的属性，并将其值替换到占位符的位置。

在你提供的代码中，`SystemPropertyUtils.resolvePlaceholders(basePackage)` 的作用是解析 `basePackage` 变量中可能包含的占位符，并替换为实际的值。这通常用于动态地获取扫描组件的基础包路径，以适应不同环境或配置的需求。



```
Resource[] resources = this.resourcePatternResolver
                    .getResources(packageSearchPath);
```

`PathMatchingResourcePatternResolver` 是 Spring Framework 中的一个类，用于在类路径下寻找匹配特定模式的资源。让我详细解释一下：

在 Spring 应用程序中，通常需要加载和管理各种资源，比如配置文件、XML 文件、Properties 文件、类文件等。`PathMatchingResourcePatternResolver` 提供了一种方便的方式来查找这些资源。

这个类的主要作用是通过指定的 Ant 风格的路径模式，在类路径下查找匹配的资源文件，并返回一个 Resource 数组。它可以用于加载类路径下的资源，如类文件、配置文件等，以及外部文件系统中的资源。

`PathMatchingResourcePatternResolver` 提供了一些方法来实现资源的加载，比如：

- `getResources(String locationPattern)`：根据给定的资源位置模式，获取匹配的资源数组。资源位置模式支持 Ant 风格的通配符，例如 `classpath*:com/example/**/*.xml`。
- `getResource(String location)`：根据给定的资源位置，获取对应的资源。资源位置可以是一个具体的文件路径或者类路径下的相对路径。

这个类通常在 Spring 应用程序中用于加载配置文件、扫描类路径下的特定资源，或者进行其他类型的资源加载和管理操作。



校验注解的方法：

```
 public static boolean hasIgnoreTableAnnotation(Class<?> clasz){
        IgnoreTable ignoreTable = clasz.getAnnotation(IgnoreTable.class);
        if (ignoreTable == null){
            return false;
        }
        return true;
    }
```



## 三、打印报错信息堆栈



## 四、监听器

