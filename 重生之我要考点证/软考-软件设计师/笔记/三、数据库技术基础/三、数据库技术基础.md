## 三、数据库技术基础

### 1、数据库基本概念

#### 1.1 数据库系统

**数据:**是数据库中存储的基本对象，是描述事物的符号记录。

**数据的种类**：文本、图形、图像、音频、视频、学生的档案记录、货物的运输情况等。

**数据库DB:** 是长期存储在计算机内、有组织的、可共享的大量数据的集合

**数据库的基本特征: **

1、数据按一定的数据模型组织、描述和存储；

2、可为各种用户共享;

3、冗余度较小;

4、数据独立性较高;

5、易扩展。

**数据库系统(DBS)：**是一个采用了数据库技术，有组织地、动态地存储大量相关数据，方便多用户访问的计算机系统。其由下面四个部分组成:

- 数据库(统一管理、长期存储在计算机内的，有组织的相关数据的集合)
- 硬件(构成计算机系统包括存储数据所需的外部设备)
- 软件(操作系统、数据库管理系统及应用程序)
- 人员(系统分析和数据库设计人员、应用程序员、最终用户、数据库管理员
  DBA)

**数据库管理系统(DBMS):** 属于数据库系统中的软件，如navicat，实现对共享数据有效的组织、管理和存取。包括数据定义、数据库操作、数据库运行管理、数据的存储管理、数据库的建立和维护等。



#### 1.2 三级模型-两级映像

![image-20250327204325515](%E4%B8%89%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80.assets/image-20250327204325515.png)

（从下往上看，越往上越和用户/应用程序相关，如java使用mysql-j驱动操作mysql数据库，越往下，和数据库的存储相关）

三级模式：

- 内模式:管理如何存储物理的数据，对应具体物理存储文件（即如何存储数据）。
- 模式:又称为概念模式，就是我们通常使用的基本表，根据应用、需求将物理数据划分成一张张表。
- 外模式:对应数据库中的视图这个级别，将表进行一定的处理后再提供给用户使用。（将一些表进行查询或者组合返回给用户进行查看 ）

两级映像：目的是当数据库中发生修改的时候（如数据发生修改），应用程序不需要修改（不需要改代码）。即防止内模式修改（即数据库有一点变动）的时候，就需要去修改概念模式和外模式内容，这样是不好的，如果有映射，只需要概念模式和内模式的映射即可。

- 外模式一模式映像:是表和视图之间的映射，存在于概念级和外部级之间，若表中数据发生了修改，只需要修改此映射，而无需修改应用程序。保证看逻辑独立性。
- 模式一内模式映像:是表和数据的物理存储之间的映射存在于概念级和内部级之间，若修改了数据存储方式，只需要修改此映射，而不需要去修改应用程序。保证了物理独立性。



#### 1.3 数据库设计

![image-20250327205323655](%E4%B8%89%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80.assets/image-20250327205323655.png)

- 需求分析:即分析数据存储的要求（需要存储哪些东西），产出物有数据流图数据字典、需求说明书
- 概念结构设计:就是设计E-R图，即实体-联系图，与物理无关，说明有哪些实体，实体有哪些属性。（如学生一个实体，其属性有学号、姓名、年龄）
- 逻辑结构设计:将E-R图，转换成关系模式，也即转换成实际的表和表中的列属性，这里要考虑很多规范化的东西。
- 物理设计:根据生成的表等概念，生成成物理数据库



> 真题：
>
> ![image-20250327205806876](%E4%B8%89%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80.assets/image-20250327205806876.png)
>
> 1、C
>
> 2、A
>
> 3、A
>
> 4、C



#### 1.4 数据模型

- 关系模型是二维表的形式表示的实体-联系模型，是将实体-联系模型转换而来的，经过开发人员设计的;
- 概念模型是从用户的角度进行建模的，是现实世界到信息世界的第一抽象是真正的实体-联系模型。
- 网状模型表示实体类型及其实体之间的联系，一个事物和另外几个都有联系形成一张网。
- 面向对象模型是采用面向对象的方法设计数据库，以对象为单位，每个对象包括属性和方法，具有类和继承等特点。
- 数据模型三要素:数据结构(所研究的对象类型的集合)、数据操作（对数据库中各种对象的实例允许执行的操作的集合)、数据的约束条件(一组完整性规则的集合)。



#### 1.5 E-R模型

##### 1.概述

用E-R图来描述概念数据模型，世界是由一组称作实体的基本对象和这些对象之间的联系构成的。
在E-R模型中，使用椭圆表示属性(一般没有)、长方形表示实体（人、物，名次）、菱形表示联系（动词），联系的两端要填写联系类型，示例如下图:

![image-20250327211414863](%E4%B8%89%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80.assets/image-20250327211414863.png)

##### 2.属性

**实体:**客观存在并可相互区别的事物。可以是具体的人、事、物或抽象概念，如人、汽车、图书、账户、贷款。

- 弱实体（长方形中加两条竖杠）和强实体:弱实体依赖于强实体的存在而存在（弱实体和强实体通过圆圈链接，如员工和经理）。
- 实体集:具有相同类型和共享相同属性的实体的集合，如学生、课程。

**属性:** 实体所具有的特性。
**属性分类**:简单属性（单个，年龄）和复合属性（由多个简单属性组成，如家庭住址，国家哪个省哪个市）;单值属性（人的年龄只有一个）和多值属性（人的电话号码可以多个）;NULL属性;派生属（可以有其他属性计算而来，如年龄可以通过出生日期计算得到）
性。

- **域:**属性的取值范围称为该属性的域。
- **码(key):**唯一标识实体的属性集。

**联系:**现实世界中事物内部以及事物之间的联系:，在E-R图中反映为实体内部的联系和实体之间的联系，
**联系类型:**一对一1:1、一对多1:N、多对多M:N.



##### 3. 两个以上实体联系

![image-20250327213209162](%E4%B8%89%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80.assets/image-20250327213209162.png)



#### 1.6 关系模型

##### 1.概述

关系模型中数据的逻辑结构是一张二维表，由行列组成。用表格结构表达实体集，用外键标识实体间的联系。如下图:

![image-20250327213501078](%E4%B8%89%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80.assets/image-20250327213501078.png)

优点:建立在严格的数学概念基础上;概念单一、结构简单、清晰，用户易懂易用;存取路径对用户透明，从而数据独立性、安全性好，简化数据库开发工作。缺点:由于存取路径透明，查询效率往往不如非关系数据模型，



##### 2.E-R模型转换为关系模型方法

E-R模型转换为关系模型:每个实体（必须是强实体）都对应一个关系模式;联系分为三种：

- 1:1联系中，联系可以放到任意的两端实体中，作为一个属性(要保证1:1的两端关联)，也可以转换为一个单独的关系模式（一般不这样做）;

- 1:N的联系中，联系可以单独作为一个关系模式，也可以在N端中加入1端实体的主键;

  如现在有员工（学号、姓名）、部门（部门编号、名称），员工和部门是N:1的关系，那么在员工中加上部门编号的属性。

- M:N的联系中，联系必须作为一个单独的关系模式，其主键是M和N端的联合主键。

> 真题：
>
> ![image-20250327214802331](%E4%B8%89%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80.assets/image-20250327214802331.png)
>
> C A
>
> ![image-20250327215140833](%E4%B8%89%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E6%8A%80%E6%9C%AF%E5%9F%BA%E7%A1%80.assets/image-20250327215140833.png)



#### 1.7 关系代数





### 2、规范化和并发控制

#### 2.1 函数依赖

#### 2.2 键与约束范式

#### 2.3 模式分解

#### 2.4 并发控制

#### 2.5 封锁协议







### 3、数据库新技术

#### 3.1 数据库安全

#### 3.2 分布式数据库

#### 3.3 数据仓库

#### 3.4 反规范化技术

#### 3.5 大数据

#### 3.6 SQL语言