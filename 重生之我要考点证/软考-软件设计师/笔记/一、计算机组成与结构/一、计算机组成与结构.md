## 一、计算机组成与结构

### 1、 计算机系统基础知识

#### 1.1、计算机硬件组成概述

计算机的基本硬件系统由**五大部件**组成：运算器、控制器、存储器、输入设备和输出设备（其中运算器和控制器被集成在CPU中，即中央处理器）

> - 运算器、控制器等部件被集成在一起统称为中央处理单元(Central Processing Unit CPU)。CPU是硬件系统的核心，用于数据的加工处理，能完成各种算术逻辑运算及控制功能。（电脑中最贵的，还有一个显卡，用于图像计算）
> - 存储器（这里包含了电脑中的所有储存器，包括内存和外存）是计算机系统中的记忆设备（用于存数据），分为内部存储器（内存）和外部存储器（磁盘）。前者速度高、容量小，一般用于临时存放程序、数据及中间结果（电脑突然断电重启，内存中未持久化到外存中的数据将会丢失）。而后者容量大、速度慢，可以长期保存程序和数据。
> - 输入设备和输出设备合称为外部设备(简称外设)，输入设备用于输入原始数据及各种命令，而输出设备则用于输出计算机运行的结果。

#### 1.2、中央处理器（CPU）

##### 1. CPU的功能（1、2、3为控制器功能 4为运算器功能，从如下可以看出控制机才是CPU的核心）：

1. 程序控制。CPU通过执行指令来控制程序的执行顺序，这是CPU的重要功能；
2. 操作控制。一条指令功能的实现需要若干操作信号配合来完成，CPU产生每条指令的操作信号并将操作信号送往对应的部件，控制相应的部件按指令的功能要求进行操作。
3. 时间控制。CPU对各种操作进行时间上的控制，即指令执行过程中操作信号的出现时间、持续时间及出现的时间顺序都需要进行严格控制。
4. 数据处理。CPU 通过对数据进行算术运算及逻辑运算等方式进行加工处理,数据加工处理的结果被人们所利用。所以，对数据的加工处理也是CPU最根本的任务。

此外，CPU还需要对系统内部和外部的中断（执行过程中，需要打断当前所做的事情，去干其他事情的时候即为中断，即被外部事物中断）、异常做出响应，进行相应的处理

##### 2.CPU的组成

CPU的组成：CPU主要由运算器、控制器、寄存器组（用于存数据，容量很小32位或64位，速度很快，比内存还要快）和内部总线（通过总线，将这些东西串起来）等部件组成。

- 运算器

由算术逻辑单元（ALU）、累加寄存器（AC）、数据缓冲寄存器（DR）和状态条件寄存器（PSW）组成，其执行所有的算术运算，如加减乘除；执行所有的逻辑运算并进行逻辑测试，如与、或、非、比较等。

1. 算术逻辑单元（ALU）：实现对数据的算术和逻辑运算。
2. 累加寄存器（AC）：运算结果或源操作数的存放区（如果是a+b=c，a操作数可以被存在算术逻辑区,ALU本身可以存一个源操作数，b操作数、c结果存储在累加寄存区中）
3. 数据缓冲寄存器（DR）：暂时存放内存的指令和数据（应该是运算时用到的）
4. 状态条件寄存器（PSW）：保存指令运行结果的条件码内容，如溢出标志、除数为0等。

- 控制器

由指令寄存器（IR）、程序计数器（PC）、地址寄存器（AR）、指令译码器（ID）组成，控制整个CPU的工作，最为重要。

指令寄存器（IR）：暂存CPU执行指令；根据PC通过指令的地址找到指令，将其进行存储。

程序计数器（PC）：存放下一个指令执行的地址；通过PC找到需要下一个执行操作的地址，来控制指令的操作顺序；（执行CPU指令时，在一个指令周期的过程中，首先需从内存读取要执行的指令，此时先要将指令的地址即PC的内容发送到地址总线上）

地址寄存器（AR）：保存当前CPU所访问的内存地址；

指令译码器（ID）：分析指令操作码（操作码用来分析这个指令是干什么的，是加法还是减法）；



CPU依据指令周期的不同阶段来区分二进制的指令和数据，因为在指令周期的不同阶段，指令会命令CPU分别去取指令或者数据。

> CPU的执行过程先是取指令（从PC中获取到指令的地址，再从主存中将指令取出来），然后通过ID分析这个指令是干什么的，是加法、减法还是移位，分析完成后，去进行执行，执行过程中，需要去取其中的数据，如a+b,需要从内存中将操作数a和b取出来。因此在取指令的时候会取出指令，执行的时候会取出数据。